<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Ding Nan's Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ding Nan's blog'">
    <meta name="author" content="">
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/Content/site.css" rel="stylesheet" />
</head>
<body>
    <header>
        <div class="container">
            <div class="navbar navbar-default">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <div class="logo">
                        <h1><a href="/" class="entry-title"><span class="bold color">Ding Nan's blog</span></a></h1>
                        <p class="meta">JavaScript, AngularJS, and more...</p>
                    </div>

                </div>
                <div class="navbar-collapse in" style="height: auto;">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="/index.html">Home</a></li>
              			<li class="active"><a href="#">Game Store</a></li>
              			<li ><a href="game-store2.html">Game Store v2</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <h2>Game Store</h2>
            </div>
            <div class="col-lg-9">
                <div class="message approved">
                    <p>I have used <a href="https://angularjs.org/">AngularJS v1.2</a>, <a href="http://getbootstrap.com">Bootstrap</a> on this page.</p>
                </div>
            </div>
        </div>
	    <div class="row">
            <div class="col-lg-12">
                <hr/>
            </div>
        </div>
        <div class="row" ng-app="storeApp" ng-cloak>
            <div data-ng-view=""></div>
            <script type="text/ng-template" id="productList.html">
                <div class="col-lg-12" style="min-height: 100px;">
	                <div class="row">
                        <div class="col-md-3 col-md-offset-2">
                            <b>{{model.orderItems.length}}</b><span> items in shopping cart.</span>                            
                        </div>
                        <div class="col-md-2">                            
                            <a href="#/shoppingCart" class="btn btn-primary" ng-disabled="!model.orderItems.length"><span>Proceed to checkout</span><i class="glyphicon glyphicon-shopping-cart" style="margin-left: 5px"></i></a>
                        </div>
                    </div>
	                <div class="row">
		                <div class="col-lg-12">
			                <hr/>
		                </div>
	                </div>
                </div>
                <div class="col-lg-12">
	                <div class="row">
		                <div class="col-md-2" ng-repeat="p in productFirstRow">
                            <product item="p"></product>
			                <div class="cart">
				                <img src="/content/images/add-to-cart.png" ng-click="addToCart(p);"/>
			                </div>
		                </div>
	                </div>
	                <div class="row">
		                <div class="col-lg-12">
			                <hr/>
		                </div>
	                </div>
	                <div class="row">
		                <div class="col-md-2" ng-repeat="p in productSecondRow">
                            <product item="p"></product>
			                <div class="cart">
				                <img src="/content/images/add-to-cart.png" ng-click="addToCart(p);"/>
			                </div>
		                </div>
	                </div>
	                <div class="row">
                        <div class="col-lg-12">
                            <hr/>
                        </div>
                    </div>
                </div>            
            </script>
            <script type="text/ng-template" id="shoppingCart.html">
                <div class="col-lg-12" style="min-height: 100px;">
	                <div class="row" ng-if="model.orderItems.length">
                        <div class="col-md-3 col-md-offset-1">
                            <b>YOUR SHOPPING CART ({{model.orderItems.length}} items)</b>
                        </div>
                        <div class="col-md-2">                            
                            <a href="#/productList" class="btn btn-primary" ><span>Continue Shopping</span><i class="glyphicon glyphicon-shopping-cart" style="margin-left: 5px"></i></a>
                        </div>
                        <div class="col-md-2">                            
                            <a href="" class="btn btn-primary" ng-click="placeOrder();"><span>Place Order</span><i class="glyphicon glyphicon-shopping-cart" style="margin-left: 5px"></i></a>
                        </div>
                    </div>
	                <div class="row" ng-if="model.orderItems.length == 0">
                        <div class="col-md-3 col-md-offset-1">
                            <b>Your shopping cart is empty.</b>
                        </div>
                        <div class="col-md-2">                            
                            <a href="#/productList" class="btn btn-primary" ><span>Shop</span><i class="glyphicon glyphicon-shopping-cart" style="margin-left: 5px"></i></a>
                        </div>
                        <div class="col-md-2">                            
                            
                        </div>
                    </div>
	                <div class="row">
		                <div class="col-lg-12">
			                <hr/>
		                </div>
	                </div>
                </div>
                <div class="row">
		            <div class="col-md-4 col-md-offset-1">
			            <table class="table table-striped">
                            <tr>
                                <th>Game</th>
                                <th>Price</th>
                                <th></th>
                            </tr>
                            <tr ng-repeat="p in model.orderItems">  
                                <td>{{p.title}}</td>
                                <td>{{p.price|currency}}</td>
                                <td><a href="" class="btn" ng-click="removeOrderItem(p)" ><i class="glyphicon glyphicon-remove" style="margin-left: 5px"></i></a></td>
                            </tr>
                            <tr>
                                <td align="right" colspan="3"><b>Total: {{totalPrice()|currency}}</b></td>                                
                            </tr>
                        </table>
		            </div>
                </div>                  
            </script>
            <script type="text/ng-template" id="orderSummary.html">
                <div class="col-lg-12">
	                <div class="row">
                        <div class="col-md-12">
                            <div class="alert alert-success" role="alert">
                              <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                              <span>    Thank you, your order has been placed.</span>
                            </div>
                        </div>
                    </div>
	                <div class="row">
	                </div>
	                <div class="row">
		                <div class="col-lg-12">
			                <span>Order Number:</span><b>202-1806580-746485</b>
		                </div>
	                </div>
	                <div class="row">
		                    <div class="col-md-12">
			                    <span>We've sent you an e-mail confirmation.</span>
		                    </div>
	                </div>
                </div> 
            </script>
        </div>
    </div>
    <script type="text/javascript">
        var global_settings = {
            storeAppWebApiUrl: 'http://localhost:64267',
            userId: '7f89c48c-fa22-4c67-a672-c185da7dbab1'
        };
    
        
        </script>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <script src="/scripts/lib/amplify.js"></script>
    <script src="/scripts/lib/angular.js"></script>
    <script src="/scripts/lib/angular-route.js"></script>
    <script src="/scripts/angular-ui/ui-bootstrap.js"></script>
    <script src="/scripts/angular-ui/ui-bootstrap-tpls.js"></script>
    <script src="/scripts/angular-ui/ui-utils.js"></script>
    <script src="/scripts/angular-ui/ngplus-overlay.js"></script>
    <script src="/scripts/lib/mockData.js"></script>
    <script src="/scripts/store.js"></script>
    <script src="/scripts/storeOrder.js"></script>
    <script src="/scripts/storeApp.directive.js"></script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-43650415-1', 'http://dingnan.azurewebsites.net/');
        ga('send', 'pageview');
    </script>
</body>
</html>
